<!doctype html>
<html lang="de" data-theme="dark">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <meta name="theme-color" content="#05060a" />
  <title>Irek Halk | Links</title>
  <meta name="description" content="Irek Halk ‚Äì Social Links" />

  <style>
    html[data-theme="dark"]{
      --bg0:#03040a; --bg2:#0b1020;
      --text:#f3f6fb;
      --muted:rgba(243,246,251,.72);
      --muted2:rgba(243,246,251,.55);
      --glassA:rgba(255,255,255,.06);
      --glassB:rgba(255,255,255,.035);
      --line:rgba(255,255,255,.12);
      --line2:rgba(255,255,255,.09);
      --metal1:#d7dde3; --metal2:#a2a8ae;
      --shadow:0 26px 100px rgba(0,0,0,.72);
      --btnShadow:0 12px 34px rgba(0,0,0,.48);
      --inset: inset 0 1px 0 rgba(255,255,255,.08);
      --logoBg: rgba(0,0,0,.28);
      --modalBg: rgba(0,0,0,.72);
      --toastBg: rgba(0,0,0,.55);
      --toastText: rgba(243,246,251,.92);
    }

    html[data-theme="light"]{
      --bg0:#e9edf3; --bg2:#dbe2ee;
      --text:#0d1117;
      --muted:rgba(13,17,23,.68);
      --muted2:rgba(13,17,23,.54);
      --glassA:rgba(255,255,255,.72);
      --glassB:rgba(255,255,255,.52);
      --line:rgba(15,17,21,.10);
      --line2:rgba(15,17,21,.08);
      --metal1:#c4c9cf; --metal2:#8c939b;
      --shadow:0 24px 80px rgba(12,16,24,.22);
      --btnShadow:0 16px 30px rgba(12,16,24,.14);
      --inset: inset 0 1px 0 rgba(255,255,255,.55);
      --logoBg: rgba(255,255,255,.55);
      --modalBg: rgba(9,12,18,.45);
      --toastBg: rgba(255,255,255,.72);
      --toastText: rgba(13,17,23,.88);
    }

    :root{ --radius:24px; --ease:cubic-bezier(.2,.85,.2,1); }
    *{ box-sizing:border-box; }
    html,body{ height:100%; }

    body{
      margin:0;
      font-family: ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, Helvetica, Arial;
      color:var(--text);
      display:flex;
      align-items:center;
      justify-content:center;
      padding:26px 16px;
      background:
        radial-gradient(950px 520px at 18% 10%, rgba(215,221,227,.16), transparent 62%),
        radial-gradient(820px 560px at 85% 20%, rgba(162,168,174,.12), transparent 58%),
        radial-gradient(900px 620px at 50% 115%, rgba(255,255,255,.08), transparent 70%),
        linear-gradient(180deg, var(--bg0), var(--bg2));
      transition: background .25s ease, color .25s ease;
    }

    html[data-theme="light"] body{
      background:
        radial-gradient(950px 520px at 18% 10%, rgba(255,255,255,.70), transparent 62%),
        radial-gradient(820px 560px at 85% 20%, rgba(210,217,226,.40), transparent 58%),
        radial-gradient(900px 620px at 50% 115%, rgba(255,255,255,.55), transparent 70%),
        linear-gradient(180deg, var(--bg0), var(--bg2));
    }

    .wrap{ width:100%; max-width:600px; }

    .card{
      position:relative;
      border-radius: calc(var(--radius) + 10px);
      border:1px solid var(--line);
      box-shadow:var(--shadow);
      overflow:hidden;
      background: linear-gradient(180deg, var(--glassA), var(--glassB));
      backdrop-filter: blur(14px);
      -webkit-backdrop-filter: blur(14px);
    }

    .card::before{
      content:"";
      position:absolute;
      inset:0;
      padding:1px;
      border-radius:inherit;
      background: linear-gradient(135deg, rgba(215,221,227,.58), rgba(255,255,255,.16), rgba(162,168,174,.36));
      -webkit-mask: linear-gradient(#000 0 0) content-box, linear-gradient(#000 0 0);
      -webkit-mask-composite: xor;
      mask-composite: exclude;
      pointer-events:none;
      opacity:.75;
    }

    header{
      position:relative;
      padding:22px 22px 16px;
      border-bottom:1px solid var(--line2);
    }

    .topRow{
      display:flex;
      align-items:flex-start;
      justify-content:space-between;
      gap:12px;
      margin-bottom:12px;
    }

    .brand h1{
      margin:0;
      font-size:22px;
      font-weight:820;
      letter-spacing:.45px;
      line-height:1.06;
    }
    .brand p{
      margin:6px 0 0;
      font-size:13.5px;
      color:var(--muted);
      letter-spacing:.15px;
    }

    .chips{
      display:flex;
      gap:8px;
      flex-wrap:wrap;
      align-items:center;
      justify-content:flex-end;
    }

    .chip{
      display:inline-flex;
      align-items:center;
      gap:10px;
      padding:9px 12px;
      border-radius:999px;
      border:1px solid var(--line);
      background: rgba(255,255,255,.06);
      color:var(--muted);
      font-size:12px;
      cursor:pointer;
      user-select:none;
      transition: transform .18s var(--ease), border-color .18s var(--ease), background .18s var(--ease);
      white-space:nowrap;
    }
    html[data-theme="light"] .chip{ background: rgba(255,255,255,.55); }
    .chip:hover{ transform: translateY(-1px); border-color: rgba(215,221,227,.34); background: rgba(255,255,255,.10); }
    html[data-theme="light"] .chip:hover{ background: rgba(255,255,255,.70); }

    .dot{
      width:8px;height:8px;border-radius:50%;
      background: linear-gradient(90deg, var(--metal1), var(--metal2));
      box-shadow: 0 0 16px rgba(215,221,227,.18);
    }

    .biglogo{
      width:100%;
      border-radius: 22px;
      border:1px solid var(--line2);
      background: var(--logoBg);
      box-shadow:
        0 0 0 1px rgba(255,255,255,.14),
        0 16px 60px rgba(0,0,0,.35),
        inset 0 0 22px rgba(255,255,255,.06);
      overflow:hidden;
    }
    html[data-theme="light"] .biglogo{
      box-shadow:
        0 0 0 1px rgba(15,17,21,.06),
        0 18px 55px rgba(12,16,24,.14),
        inset 0 0 22px rgba(255,255,255,.30);
    }
    .biglogo img{ width:100%; height:auto; display:block; object-fit:cover; }

    .content{ padding:18px 22px 14px; }
    .stack{ display:flex; flex-direction:column; gap:12px; }

    .btn{
      display:flex;
      align-items:center;
      justify-content:space-between;
      gap:14px;
      padding:15px 14px 15px 16px;
      border-radius: 18px;
      border:1px solid var(--line);
      background: linear-gradient(180deg, rgba(255,255,255,.10), rgba(255,255,255,.03));
      color:var(--text);
      text-decoration:none;
      cursor:pointer;
      box-shadow: var(--inset), var(--btnShadow);
      transition: transform .18s var(--ease), border-color .18s var(--ease);
      will-change: transform;
    }
    html[data-theme="light"] .btn{
      background: linear-gradient(180deg, rgba(255,255,255,.78), rgba(255,255,255,.52));
    }
    .btn:hover{ transform: translateY(-1px); border-color: rgba(215,221,227,.34); }

    .left{ display:flex; align-items:center; gap:12px; min-width:0; }

    .pill{
      width:42px; height:42px;
      border-radius: 16px;
      display:grid; place-items:center;
      background: rgba(0,0,0,.18);
      border:1px solid var(--line);
      flex:0 0 auto;
      box-shadow: inset 0 0 14px rgba(255,255,255,.04);
    }
    html[data-theme="light"] .pill{
      background: rgba(255,255,255,.60);
      box-shadow: inset 0 0 14px rgba(255,255,255,.35);
    }

    .label strong{
      display:block;
      font-size:15px;
      font-weight:720;
      letter-spacing:.2px;
    }
    .label span{
      display:block;
      font-size:12px;
      color:var(--muted);
      margin-top:3px;
      white-space:nowrap;
      overflow:hidden;
      text-overflow:ellipsis;
      max-width:330px;
    }

    .arrow{
      width:40px; height:40px;
      border-radius: 16px;
      display:grid; place-items:center;
      background: linear-gradient(180deg, rgba(215,221,227,.16), rgba(162,168,174,.06));
      border: 1px solid rgba(215,221,227,.24);
      flex:0 0 auto;
    }
    html[data-theme="light"] .arrow{
      background: linear-gradient(180deg, rgba(255,255,255,.70), rgba(210,217,226,.42));
      border-color: rgba(15,17,21,.08);
    }

    .hintbox-wrap{ padding:0 22px 18px; }
    .hintbox{
      border-radius: 18px;
      border:1px solid var(--line2);
      background: rgba(255,255,255,.045);
      padding:12px 14px;
      color:var(--muted2);
      font-size:11.5px;
      line-height:1.35;
    }
    html[data-theme="light"] .hintbox{
      background: rgba(255,255,255,.58);
      border-color: rgba(15,17,21,.08);
    }

    footer{
      padding:14px 22px;
      border-top:1px solid var(--line2);
      display:flex;
      align-items:center;
      justify-content:space-between;
      gap:12px;
      color:var(--muted);
      font-size:12px;
    }

    .hidden{ display:none; }

    /* ===== Gallery ===== */
    .sectionTitle{
      margin:2px 0 12px;
      font-size:12px;
      letter-spacing:.22em;
      text-transform:uppercase;
      color:var(--muted2);
    }

    .gallery{
      display:grid;
      grid-template-columns: repeat(3, 1fr);
      gap:10px;
    }

    .gItem{
      position:relative;
      border-radius:18px;
      overflow:hidden;
      border:1px solid var(--line2);
      background: rgba(255,255,255,.04);
      cursor:pointer;
      box-shadow: var(--inset), 0 10px 26px rgba(0,0,0,.22);
      aspect-ratio: 1 / 1;
    }
    html[data-theme="light"] .gItem{
      background: rgba(255,255,255,.62);
      box-shadow: var(--inset), 0 12px 24px rgba(12,16,24,.10);
    }

    .gItem img{
      width:100%;
      height:100%;
      object-fit:cover;
      display:block;
      transform: scale(1.02);
      transition: transform .22s var(--ease);
    }
    .gItem:hover img{ transform: scale(1.06); }

    .gOverlay{
      position:absolute;
      inset:0;
      background: linear-gradient(180deg, transparent 55%, rgba(0,0,0,.55));
      opacity:.0;
      transition: opacity .2s var(--ease);
    }
    .gItem:hover .gOverlay{ opacity:.95; }

    .gHint{
      position:absolute;
      left:12px;
      bottom:10px;
      font-size:11.5px;
      color: rgba(255,255,255,.9);
      letter-spacing:.02em;
    }

    @media (max-width:480px){
      .gallery{ grid-template-columns: repeat(2, 1fr); }
    }

    /* ===== Modal ===== */
    .modal{
      position:fixed;
      inset:0;
      display:none;
      align-items:center;
      justify-content:center;
      padding:16px;
      background: var(--modalBg);
      z-index:9999;
    }
    .modal.open{ display:flex; }

    .modalCard{
      width:100%;
      max-width:820px;
      border-radius:24px;
      border:1px solid var(--line);
      background: linear-gradient(180deg, var(--glassA), var(--glassB));
      box-shadow: var(--shadow);
      overflow:hidden;
      backdrop-filter: blur(14px);
      -webkit-backdrop-filter: blur(14px);
      position:relative;
    }

    .modalTop{
      display:flex;
      align-items:center;
      justify-content:space-between;
      padding:12px 14px;
      border-bottom:1px solid var(--line2);
      color:var(--muted);
      font-size:12px;
    }

    .closeBtn{
      padding:8px 10px;
      border-radius:999px;
      border:1px solid var(--line);
      background: rgba(255,255,255,.06);
      cursor:pointer;
      color:var(--text);
      user-select:none;
    }
    html[data-theme="light"] .closeBtn{ background: rgba(255,255,255,.62); }

    .modalImg{
      display:block;
      width:100%;
      height:auto;
      max-height:78vh;
      object-fit:contain;
      background: rgba(0,0,0,.18);
    }

    /* Toast */
    #toast{
      position:fixed;
      left:50%;
      bottom:22px;
      transform:translateX(-50%);
      padding:10px 14px;
      border-radius:999px;
      border:1px solid var(--line);
      background: var(--toastBg);
      color: var(--toastText);
      font-size:12px;
      backdrop-filter: blur(10px);
      -webkit-backdrop-filter: blur(10px);
      box-shadow: 0 18px 50px rgba(0,0,0,.35);
      z-index:99999;
      opacity:0;
      transition: opacity .2s ease;
      pointer-events:none;
    }

    @media (prefers-reduced-motion: reduce){
      .btn,.chip,.gItem img,.gOverlay,#toast{ transition:none; }
      .btn:hover,.chip:hover{ transform:none; }
      .gItem:hover img{ transform:none; }
    }
  </style>
</head>

<body>
  <main class="wrap">
    <section class="card">

      <header>
        <div class="topRow">
          <div class="brand">
            <h1 id="brandName">Irek Halk</h1>
            <p id="subtitle">W√§hle eine Plattform und sieh dir meine Projekte an</p>
          </div>

          <div class="chips">
            <div class="chip" onclick="showLang()" title="Sprache √§ndern">
              <span class="dot"></span>
              <span id="langLabel">Deutsch</span>
            </div>
            <div class="chip" onclick="setTheme('light')" title="Hell">‚òÄÔ∏è</div>
            <div class="chip" onclick="setTheme('dark')" title="Dunkel">üåô</div>
          </div>
        </div>

        <div class="biglogo">
          <img src="logo.png" alt="Irek Halk Logo" />
        </div>
      </header>

      <!-- LANGUAGE SELECT -->
      <div class="content hidden" id="lang-select">
        <div class="stack">
          <div class="btn" onclick="setLang('de')">
            <div class="left">
              <div class="pill">üá©üá™</div>
              <div class="label"><strong>Deutsch</strong><span>Sprache ausw√§hlen</span></div>
            </div>
            <div class="arrow">‚Üí</div>
          </div>

          <div class="btn" onclick="setLang('pl')">
            <div class="left">
              <div class="pill">üáµüá±</div>
              <div class="label"><strong>Polski</strong><span>Wybierz jƒôzyk</span></div>
            </div>
            <div class="arrow">‚Üí</div>
          </div>

          <div class="btn" onclick="setLang('en')">
            <div class="left">
              <div class="pill">üá¨üáß</div>
              <div class="label"><strong>English</strong><span>Select language</span></div>
            </div>
            <div class="arrow">‚Üí</div>
          </div>
        </div>
      </div>

      <!-- LINKS VIEW -->
      <div class="content" id="linksView">
        <div class="stack">
          <a class="btn" href="https://www.instagram.com/ixdesign.studio/" onclick="openSafe(event, this.href)">
            <div class="left">
              <div class="pill" aria-hidden="true">
                <svg width="18" height="18" viewBox="0 0 24 24" fill="none">
                  <path d="M7 2h10a5 5 0 0 1 5 5v10a5 5 0 0 1-5 5H7a5 5 0 0 1-5-5V7a5 5 0 0 1 5-5Z" stroke="currentColor" stroke-width="1.8"/>
                  <path d="M12 17a5 5 0 1 0 0-10 5 5 0 0 0 0 10Z" stroke="currentColor" stroke-width="1.8"/>
                  <path d="M17.5 6.5h.01" stroke="currentColor" stroke-width="3" stroke-linecap="round"/>
                </svg>
              </div>
              <div class="label">
                <strong>Instagram</strong>
                <span id="txt-ig">Portfolio & Updates</span>
              </div>
            </div>
            <div class="arrow">‚Üí</div>
          </a>

          <a class="btn" href="https://www.tiktok.com/@ixdesignhh" onclick="openSafe(event, this.href)">
            <div class="left">
              <div class="pill" aria-hidden="true">
                <svg width="18" height="18" viewBox="0 0 24 24" fill="none">
                  <path d="M14 3v10.5a3.5 3.5 0 1 1-2-3.15V5.2c2 2.2 4.1 3.3 6 3.5V11c-1.9-.2-3.8-1-6-2.7V3h2Z" fill="currentColor" opacity=".9"/>
                </svg>
              </div>
              <div class="label">
                <strong>TikTok</strong>
                <span id="txt-tt">Werkstatt & Behind the Scenes</span>
              </div>
            </div>
            <div class="arrow">‚Üí</div>
          </a>

          <a class="btn" href="https://www.youtube.com/@patrykvega-g7d" onclick="openSafe(event, this.href)">
            <div class="left">
              <div class="pill" aria-hidden="true">
                <svg width="18" height="18" viewBox="0 0 24 24" fill="none">
                  <path d="M21 12s0-4-1-6-3-2-8-2-7 1-8 2-1 6-1 6 0 4 1 6 3 2 8 2 7-1 8-2 1-6 1-6Z" stroke="currentColor" stroke-width="1.8"/>
                  <path d="M11 9l5 3-5 3V9Z" fill="currentColor"/>
                </svg>
              </div>
              <div class="label">
                <strong>YouTube</strong>
                <span id="txt-yt">Videos & Projekte</span>
              </div>
            </div>
            <div class="arrow">‚Üí</div>
          </a>

          <!-- Gallery button -->
          <a class="btn" href="#" onclick="openGallery(event)">
            <div class="left">
              <div class="pill" aria-hidden="true">üñºÔ∏è</div>
              <div class="label">
                <strong id="galleryBtnTitle">Galerie</strong>
                <span id="galleryBtnSub">Fotos & Projekte</span>
              </div>
            </div>
            <div class="arrow">‚Üí</div>
          </a>
        </div>
      </div>

      <!-- GALLERY VIEW -->
      <div class="content hidden" id="galleryView">
        <div class="stack">
          <a class="btn" href="#" onclick="closeGallery(event)">
            <div class="left">
              <div class="pill" aria-hidden="true">‚Üê</div>
              <div class="label">
                <strong id="backTitle">Zur√ºck</strong>
                <span id="backSub">Links anzeigen</span>
              </div>
            </div>
            <div class="arrow" aria-hidden="true">‚úì</div>
          </a>
        </div>

        <div class="sectionTitle" id="galleryTitle">Galerie</div>
        <div class="gallery" id="gallery"></div>
      </div>

      <div class="hintbox-wrap">
        <div class="hintbox" id="hintBox">
          Tipp: Wenn du die Seite innerhalb von Instagram/TikTok/YouTube √∂ffnest und ein Link nicht geht,
          nutze das Men√º (‚ãÆ) ‚Üí ‚ÄûIm Browser √∂ffnen‚Äú oder kopiere den Link und √∂ffne ihn in Chrome.
        </div>
      </div>

      <footer>
        <span>¬© <span id="year"></span> Irek Halk</span>
        <span id="footerHint">Luxury</span>
      </footer>

    </section>
  </main>

  <!-- Modal -->
  <div class="modal" id="modal" onclick="closeModal()">
    <div class="modalCard" onclick="event.stopPropagation()">
      <div class="modalTop">
        <span id="modalLabel">Vorschau</span>
        <span class="closeBtn" onclick="closeModal()">‚úï</span>
      </div>
      <img class="modalImg" id="modalImg" alt="Preview" />
    </div>
  </div>

  <div id="toast"></div>

  <script>
    document.getElementById("year").textContent = new Date().getFullYear();

    // ====== GALLERY CONFIG ======
    // Wrzucasz pliki do folderu: /gallery/
    // Nazwy plik√≥w muszƒÖ siƒô zgadzaƒá!
    const GALLERY_FILES = [
      "gallery/01.jpg",
      "gallery/02.jpg",
      "gallery/03.jpg",
      "gallery/04.jpg",
      "gallery/05.jpg",
      "gallery/06.jpg"
    ];

    function buildGallery(){
      const wrap = document.getElementById("gallery");
      wrap.innerHTML = "";

      let visibleCount = 0;

      GALLERY_FILES.forEach((src, idx) => {
        const item = document.createElement("div");
        item.className = "gItem";
        item.onclick = () => openModal(src);

        const img = document.createElement("img");
        img.src = src;
        img.alt = "Gallery image " + (idx+1);

        img.onload = () => { visibleCount++; };
        img.onerror = () => { item.style.display = "none"; };

        const ov = document.createElement("div");
        ov.className = "gOverlay";

        const hint = document.createElement("div");
        hint.className = "gHint";
        hint.textContent = "View";

        item.appendChild(img);
        item.appendChild(ov);
        item.appendChild(hint);
        wrap.appendChild(item);
      });

      // je≈õli NIC siƒô nie za≈Çadowa≈Ço, poka≈º komunikat
      setTimeout(() => {
        const hasAny = [...wrap.children].some(ch => ch.style.display !== "none");
        if(!hasAny){
          wrap.innerHTML = "";
          const msg = document.createElement("div");
          msg.className = "hintbox";
          msg.textContent = "Galerie: Keine Bilder gefunden. Pr√ºfe bitte den Ordner /gallery/ und die Dateinamen (z.B. 01.jpg, 02.jpg...).";
          wrap.appendChild(msg);
        }
      }, 600);
    }

    // ====== Views ======
    function openGallery(e){
      e.preventDefault();
      document.getElementById("linksView").classList.add("hidden");
      document.getElementById("galleryView").classList.remove("hidden");
      buildGallery();
      window.scrollTo({ top: 0, behavior: "smooth" });
    }

    function closeGallery(e){
      e.preventDefault();
      document.getElementById("galleryView").classList.add("hidden");
      document.getElementById("linksView").classList.remove("hidden");
      window.scrollTo({ top: 0, behavior: "smooth" });
    }

    // ====== i18n ======
    const I = {
      de: {
        langLabel: "Deutsch",
        subtitle: "W√§hle eine Plattform und sieh dir meine Projekte an",
        ig: "Portfolio & Updates",
        tt: "Werkstatt & Behind the Scenes",
        yt: "Videos & Projekte",
        galleryBtnTitle: "Galerie",
        galleryBtnSub: "Fotos & Projekte",
        backTitle: "Zur√ºck",
        backSub: "Links anzeigen",
        galleryTitle: "Galerie",
        modal: "Vorschau",
        hint: "Tipp: Wenn du die Seite innerhalb von Instagram/TikTok/YouTube √∂ffnest und ein Link nicht geht, nutze das Men√º (‚ãÆ) ‚Üí ‚ÄûIm Browser √∂ffnen‚Äú."
      },
      pl: {
        langLabel: "Polski",
        subtitle: "Wybierz platformƒô i zobacz moje projekty",
        ig: "Portfolio i nowo≈õci",
        tt: "Kulisy pracy w warsztacie",
        yt: "Wideo i projekty",
        galleryBtnTitle: "Galeria",
        galleryBtnSub: "Zdjƒôcia i projekty",
        backTitle: "Wr√≥ƒá",
        backSub: "Poka≈º linki",
        galleryTitle: "Galeria",
        modal: "PodglƒÖd",
        hint: "Wskaz√≥wka: je≈õli otwierasz stronƒô w Instagramie/TikToku/YouTube i link nie dzia≈Ça, u≈ºyj menu (‚ãÆ) ‚Üí ‚ÄûOtw√≥rz w przeglƒÖdarce‚Äù."
      },
      en: {
        langLabel: "English",
        subtitle: "Choose a platform and explore my projects",
        ig: "Portfolio & updates",
        tt: "Workshop & behind the scenes",
        yt: "Videos & projects",
        galleryBtnTitle: "Gallery",
        galleryBtnSub: "Photos & projects",
        backTitle: "Back",
        backSub: "Show links",
        galleryTitle: "Gallery",
        modal: "Preview",
        hint: "Tip: if you open this page inside Instagram/TikTok/YouTube and a link fails, use the menu (‚ãÆ) ‚Üí ‚ÄúOpen in browser‚Äù."
      }
    };

    function applyLang(lang){
      const t = I[lang] || I.de;
      document.documentElement.lang = lang;

      document.getElementById("langLabel").textContent = t.langLabel;
      document.getElementById("subtitle").textContent = t.subtitle;

      document.getElementById("txt-ig").textContent = t.ig;
      document.getElementById("txt-tt").textContent = t.tt;
      document.getElementById("txt-yt").textContent = t.yt;

      document.getElementById("galleryBtnTitle").textContent = t.galleryBtnTitle;
      document.getElementById("galleryBtnSub").textContent = t.galleryBtnSub;

      document.getElementById("backTitle").textContent = t.backTitle;
      document.getElementById("backSub").textContent = t.backSub;

      document.getElementById("galleryTitle").textContent = t.galleryTitle;
      document.getElementById("modalLabel").textContent = t.modal;

      document.getElementById("hintBox").textContent = t.hint;
    }

    function setLang(lang){
      localStorage.setItem("lang", lang);
      applyLang(lang);
      hideLang();
      toast(lang === "de" ? "Deutsch" : lang === "pl" ? "Polski" : "English");
    }

    function showLang(){
      document.getElementById("lang-select").classList.remove("hidden");
      document.getElementById("linksView").classList.add("hidden");
      document.getElementById("galleryView").classList.add("hidden");
    }

    function hideLang(){
      document.getElementById("lang-select").classList.add("hidden");
      document.getElementById("linksView").classList.remove("hidden");
      // gallery stays hidden unless opened
    }

    // ====== Theme ======
    function setTheme(theme){
      document.documentElement.setAttribute("data-theme", theme);
      localStorage.setItem("theme", theme);
      const meta = document.querySelector('meta[name="theme-color"]');
      if(meta){
        meta.setAttribute("content", theme === "light" ? "#f7f9fc" : "#05060a");
      }
    }

    // ====== Navigation ======
    function openSafe(e, url){
      e.preventDefault();
      try{ window.location.assign(url); }
      catch(err){ window.open(url, "_blank"); }
    }

    // ====== Modal ======
    function openModal(src){
      const modal = document.getElementById("modal");
      const img = document.getElementById("modalImg");
      img.src = src;
      modal.classList.add("open");
    }
    function closeModal(){
      const modal = document.getElementById("modal");
      const img = document.getElementById("modalImg");
      img.src = "";
      modal.classList.remove("open");
    }
    window.addEventListener("keydown", (e) => { if(e.key === "Escape") closeModal(); });

    // ====== Toast ======
    let toastTimer;
    function toast(msg){
      const t = document.getElementById("toast");
      t.textContent = msg;
      t.style.opacity = "1";
      clearTimeout(toastTimer);
      toastTimer = setTimeout(()=>{ t.style.opacity = "0"; }, 950);
    }

    // ====== INIT ======
    const savedTheme = localStorage.getItem("theme");
    setTheme(savedTheme || "dark");

    const savedLang = localStorage.getItem("lang");
    applyLang(savedLang || "de");
    hideLang(); // start on links, German default
  </script>
</body>
</html>